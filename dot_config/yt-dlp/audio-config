# yt-dlp config for best music downloads

# Download best audio only - use fallback formats for reliability
-f "bestaudio[ext=m4a]/bestaudio[ext=webm]/bestaudio/best[height<=480]/best"
--extract-audio

# Convert to mp3 with best quality (0 = best)
--audio-format mp3
--audio-quality 0

# Remove non-music sponsor segments
# --sponsorblock-remove "music_offtopic"

# Embed thumbnail as cover art
--embed-thumbnail

# Embed metadata (artist, title, etc.)
--add-metadata

# Remove unsafe characters from filenames
--restrict-filenames

# Output template for organized music library
# Artist/Album/Track structure with fallbacks
-o "~/music/%(artist|uploader)s/%(album|Singles)s/%(track_number|)s%(track_number& - |)s%(title)s.%(ext)s"
