###################
### LAYER RULES ###
###################

# See https://wiki.hyprland.org/Configuring/Layer-Rules/ for more

# Waybar
# layerrule = blur on, match:namespace waybar

# SwayNC
layerrule = blur on, match:namespace swaync-notification-window
layerrule = ignore_alpha 0, match:namespace swaync-notification-window
# layerrule = ignore_alpha 0, match:namespace swaync-notification-window
# layerrule = xray on, match:namespace swaync-notification-window

layerrule = blur on, match:namespace swaync-control-center
layerrule = animation slide right, match:namespace swaync-control-center
# layerrule = ignorezero, match:namespace swaync-control-center
layerrule = ignore_alpha 0, match:namespace swaync-control-center

# Albert
layerrule = ignore_alpha 0, match:namespace albert

###############
### WINDOWS ###
###############
# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
# Example windowrule
# windowrule = float,class:^(kitty)$,title:^(kitty)$

# "Smart gaps" / "No gaps when only"
# uncomment all if you wish to use that.
workspace = w[tv1], gapsout:0, gapsin:0
workspace = f[1], gapsout:0, gapsin:0
windowrule {
	name = smartgaps-tv1
	match:float = 0
	match:workspace = w[tv1]

	border_size = 0
	rounding = 0
}
windowrule {
	name = smartgaps-f1
	match:float = 0
	match:workspace = f[1]

	border_size = 0
	rounding = 0
}

# Picture in Picture
windowrule {
	name = pip
	match:title = Picture-in-Picture

	pin = on
	float = on
	rounding = 0
	# opacity = 1.0 0.75
	no_initial_focus = on
	keep_aspect_ratio = on
	size = (monitor_w*0.25) ((monitor_w*0.25)*9/16)
	move = (monitor_w-window_w-10) (monitor_h-window_h-10)
}

# Floating apps
windowrule {
	name = file-dialogs-float
	match:title = ^(Open File|Open|Save|Save As|Export|Import|Choose File)$
	match:class = ^(.*)$

	float = on
	center = on
}

windowrule {
	name = xdg-desktop-portal-gtk-float
	match:class = ^(x|X)dg-desktop-portal-gtk$

	float = on
	center = on
}
windowrule = float on, match:class ^.*pavucontrol.*$
windowrule = float on, match:class ^.*Overskride.*$
windowrule = float on, match:class ^yad$

# Tiled apps
windowrule = tile on, match:class ^pdfxedit.exe$

# Albert launcher rules - Fix focus issues
windowrule {
	name = albert-launcher
	match:class = ^albert$

	float = on
	center = on
	pin = on
	stay_focused = on
	dim_around = on
}

# Ignore maximize requests from apps. You'll probably like this.
windowrule = suppress_event maximize, match:class ^.*$

# Fix some dragging issues with XWayland
windowrule = no_focus on, match:class ^$, match:title ^$, match:xwayland 1, match:float 1, match:fullscreen 0, match:pin 0

# Window rules for the special workspace
windowrule = workspace special:ytdl, match:title (Video Downloader)


##################
### WORKSPACES ###
##################
# See https://wiki.hyprland.org/Configuring/Workspace-Rules/ for workspace rules

# Workspace 1: Code
windowrule = workspace 1 silent, match:class code
windowrule = workspace 1 silent, match:class jetbrains-* 
windowrule = workspace 1 silent, match:class ^.*Zed.*$
windowrule = workspace 1 silent, match:class ^(Windsurf|.*Cursor.*|Kiro)$

# Workspace 2: Web browser
windowrule = workspace 2 silent, match:class ^zen$

# Workspace 3: Media
windowrule = workspace 3 silent, match:class ^FreeTube$
windowrule = workspace 3 silent, match:class ^.*Celluloid.*$
windowrule = workspace 3 silent, match:class ^com.stremio.stremio$

# Workspace 4: Docs/editing/Obsidian
windowrule = workspace 4 silent, match:class ^anytype$
windowrule = workspace 4 silent, match:class ^pdfxedit.exe$

# Workspace 5: Communication
windowrule = workspace 5 silent, match:class ^(.*Discord.*|vesktop|equibop)$
windowrule = workspace 5 silent, match:class ^.*Element.*$
windowrule = workspace 5 silent, match:class ^Beeper$

windowrule {
	name = signal-comm
	match:class = ^signal$

	workspace = 5 silent
	no_screen_share = on
}

# Workspace 6: AI
windowrule = workspace 6 silent, match:class ^Invoke.*$

# Workspace 8: Games
windowrule = border_size 0, match:workspace 8
windowrule = rounding 0, match:workspace 8
windowrule = workspace 8, match:class ^steam_app_\d+$
windowrule = workspace 8, match:class ^Minecraft.*$|gmod|hl2_linux|factorio
windowrule = workspace 8, match:class .*jackbox.*


# Workspace 9: Gaming/Steam
windowrule = workspace 9 silent, match:class ^steam$
windowrule = workspace 9 silent, match:class ^gale$
windowrule = workspace 9 silent, match:class ^.*Lutris.*$
windowrule = workspace 9 silent, match:class ^.*Heroic.*$
windowrule = workspace 9 silent, match:class ^.*PrismLauncher$

# Workspace 10: Music
windowrule = workspace 10 silent, match:class SpotiFLAC
